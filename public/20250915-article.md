---
title: 画像のHSVを取得しよう
tags:
  - ''
private: false
updated_at: ''
id: null
organization_url_name: techno_robocup
slide: false
ignorePublish: true
---
# CV2のHSVのパラメーターがクセ強い！
ロボットでライントレースプログラムを作るとき、CV2で画像にマスク処理をかけて白黒の判定、緑マークの認識などをしています。

しかし、CV2の仕様上、色相(Hue)は0〜180、彩度(Saturation)と明度(Value)は0〜255までと、かなり独特な設計をしています。

それが原因で、今までしきい値の調整にとても時間がかかってしまう、直感的に編集しにくいという問題がありました。

そこで、今回私達のグループでその問題を解決するために、画像の任意の箇所をクリックするだけでCV2から取得された値を見ることのできる簡易的なソフトを作ったので、その話をしたいと思います。

# 出来上がったソフトのイメージ
次のように動きます。以下の動画をご覧ください。

[動画](http://techno-robocup.github.io/assets/images/Screencast%20from%202025-09-15%2013-44-15.webm)

マウスの動きがないためあまり動いている感じがしないと思いますが、このような感じで今クリックしたピクセルに関してと、今までにクリックした分のピクセルの全体についての情報が表示されます。

# このソフトの良いところ
## 今クリックしたところの情報が表示される
「特定のこのピクセルの色だけ確認したい」ということがあると思います。

クリックするだけで、クリックした箇所のHSVそれぞれを表示してくれます。

## 今までにクリックしたピクセルの箇所について、最大、最小、平均の値を表示してくれる
これが私達の最も求めていた機能です。

この機能のおかげで、しきい値に対してマスクをかける処理をするときに、マスクをかける範囲のしきい値を調整しやすくなりました。

# 終わりに
これのおかげで今までのしきい値調整がだいぶ楽になりそうです。

今後も自分たちで必要なソフトを自給自足できるようになりたいなと感じました。

ありがとうございました。